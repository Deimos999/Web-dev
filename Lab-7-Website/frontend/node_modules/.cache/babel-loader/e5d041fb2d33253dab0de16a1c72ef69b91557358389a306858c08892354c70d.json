{"ast":null,"code":"var _jsxFileName = \"/home/irakli/Desktop/CS/Web/Lab-7-Website/frontend/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport Login from './pages/Login';\nimport Register from './pages/Register';\nimport Profile from './pages/Profile';\nimport AdminPanel from './pages/AdminPanel';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [user, setUser] = useState(null);\n  const [page, setPage] = useState('login'); // login | register | profile | admin\n\n  useEffect(() => {\n    fetch('http://localhost:1234/api/auth/me', {\n      credentials: 'include'\n    }).then(r => r.json()).then(data => {\n      if (data.user) {\n        setUser(data.user);\n        setPage('profile');\n      }\n    });\n  }, []);\n  const handleLogout = async () => {\n    await fetch('http://localhost:1234/api/auth/logout', {\n      method: 'POST',\n      credentials: 'include'\n    });\n    setUser(null);\n    setPage('login');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"app-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"brand\",\n        children: \"User Manager\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n        children: [!user && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"link\",\n            onClick: () => setPage('login'),\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 34,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"link\",\n            onClick: () => setPage('register'),\n            children: \"Register\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 35,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true), user && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"greeting\",\n            children: [\"Hi, \", user.username]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"link\",\n            onClick: () => setPage('profile'),\n            children: \"Profile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 39,\n            columnNumber: 13\n          }, this), user.role === 'admin' && /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"link\",\n            onClick: () => setPage('admin'),\n            children: \"Admin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 39\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"link\",\n            onClick: handleLogout,\n            children: \"Logout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"container\",\n      children: [!user && page === 'login' && /*#__PURE__*/_jsxDEV(Login, {\n        onLogin: u => {\n          setUser(u);\n          setPage('profile');\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 39\n      }, this), !user && page === 'register' && /*#__PURE__*/_jsxDEV(Register, {\n        onRegister: u => {\n          setUser(u);\n          setPage('profile');\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 42\n      }, this), user && page === 'profile' && /*#__PURE__*/_jsxDEV(Profile, {\n        user: user,\n        onUserChange: u => setUser(u)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 40\n      }, this), user && page === 'admin' && user.role === 'admin' && /*#__PURE__*/_jsxDEV(AdminPanel, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 63\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n      className: \"footer\",\n      children: \"Made By Irakli Tavadze, Who doesn't like Designs like Emotional people do.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"ZAnW1v9IayE3l3UH5FYPZDDw5ug=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","Login","Register","Profile","AdminPanel","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","user","setUser","page","setPage","fetch","credentials","then","r","json","data","handleLogout","method","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","username","role","onLogin","u","onRegister","onUserChange","_c","$RefreshReg$"],"sources":["/home/irakli/Desktop/CS/Web/Lab-7-Website/frontend/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport Login from './pages/Login';\nimport Register from './pages/Register';\nimport Profile from './pages/Profile';\nimport AdminPanel from './pages/AdminPanel';\n\nfunction App(){\n  const [user, setUser] = useState(null);\n  const [page, setPage] = useState('login'); // login | register | profile | admin\n\n  useEffect(()=>{\n    fetch('http://localhost:1234/api/auth/me', { credentials: 'include' })\n      .then(r=>r.json())\n      .then(data=>{\n        if (data.user) {\n          setUser(data.user);\n          setPage('profile');\n        }\n      });\n  }, []);\n\n  const handleLogout = async () => {\n    await fetch('http://localhost:1234/api/auth/logout', { method:'POST', credentials:'include' });\n    setUser(null);\n    setPage('login');\n  };\n\n  return (\n    <div className=\"app\">\n      <header className=\"app-header\">\n        <h1 className=\"brand\">User Manager</h1>\n        <nav>\n          {!user && <>\n            <button className=\"link\" onClick={()=>setPage('login')}>Login</button>\n            <button className=\"link\" onClick={()=>setPage('register')}>Register</button>\n          </>}\n          {user && <>\n            <span className=\"greeting\">Hi, {user.username}</span>\n            <button className=\"link\" onClick={()=>setPage('profile')}>Profile</button>\n            {user.role === 'admin' && <button className=\"link\" onClick={()=>setPage('admin')}>Admin</button>}\n            <button className=\"link\" onClick={handleLogout}>Logout</button>\n          </>}\n        </nav>\n      </header>\n\n      <main className=\"container\">\n        {!user && page === 'login' && <Login onLogin={(u)=>{ setUser(u); setPage('profile'); }} />}\n        {!user && page === 'register' && <Register onRegister={(u)=>{ setUser(u); setPage('profile'); }} />}\n        {user && page === 'profile' && <Profile user={user} onUserChange={u=>setUser(u)} />}\n        {user && page === 'admin' && user.role === 'admin' && <AdminPanel />}\n      </main>\n\n      <footer className=\"footer\">Made By Irakli Tavadze, Who doesn't like Designs like Emotional people do.</footer>\n    </div>\n  );\n}\n\nexport default App;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,eAAe;AACjC,OAAOC,QAAQ,MAAM,kBAAkB;AACvC,OAAOC,OAAO,MAAM,iBAAiB;AACrC,OAAOC,UAAU,MAAM,oBAAoB;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAE5C,SAASC,GAAGA,CAAA,EAAE;EAAAC,EAAA;EACZ,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGZ,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAM,CAACa,IAAI,EAAEC,OAAO,CAAC,GAAGd,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC;;EAE3CD,SAAS,CAAC,MAAI;IACZgB,KAAK,CAAC,mCAAmC,EAAE;MAAEC,WAAW,EAAE;IAAU,CAAC,CAAC,CACnEC,IAAI,CAACC,CAAC,IAAEA,CAAC,CAACC,IAAI,CAAC,CAAC,CAAC,CACjBF,IAAI,CAACG,IAAI,IAAE;MACV,IAAIA,IAAI,CAACT,IAAI,EAAE;QACbC,OAAO,CAACQ,IAAI,CAACT,IAAI,CAAC;QAClBG,OAAO,CAAC,SAAS,CAAC;MACpB;IACF,CAAC,CAAC;EACN,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMO,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/B,MAAMN,KAAK,CAAC,uCAAuC,EAAE;MAAEO,MAAM,EAAC,MAAM;MAAEN,WAAW,EAAC;IAAU,CAAC,CAAC;IAC9FJ,OAAO,CAAC,IAAI,CAAC;IACbE,OAAO,CAAC,OAAO,CAAC;EAClB,CAAC;EAED,oBACER,OAAA;IAAKiB,SAAS,EAAC,KAAK;IAAAC,QAAA,gBAClBlB,OAAA;MAAQiB,SAAS,EAAC,YAAY;MAAAC,QAAA,gBAC5BlB,OAAA;QAAIiB,SAAS,EAAC,OAAO;QAAAC,QAAA,EAAC;MAAY;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACvCtB,OAAA;QAAAkB,QAAA,GACG,CAACb,IAAI,iBAAIL,OAAA,CAAAE,SAAA;UAAAgB,QAAA,gBACRlB,OAAA;YAAQiB,SAAS,EAAC,MAAM;YAACM,OAAO,EAAEA,CAAA,KAAIf,OAAO,CAAC,OAAO,CAAE;YAAAU,QAAA,EAAC;UAAK;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACtEtB,OAAA;YAAQiB,SAAS,EAAC,MAAM;YAACM,OAAO,EAAEA,CAAA,KAAIf,OAAO,CAAC,UAAU,CAAE;YAAAU,QAAA,EAAC;UAAQ;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA,eAC5E,CAAC,EACFjB,IAAI,iBAAIL,OAAA,CAAAE,SAAA;UAAAgB,QAAA,gBACPlB,OAAA;YAAMiB,SAAS,EAAC,UAAU;YAAAC,QAAA,GAAC,MAAI,EAACb,IAAI,CAACmB,QAAQ;UAAA;YAAAL,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACrDtB,OAAA;YAAQiB,SAAS,EAAC,MAAM;YAACM,OAAO,EAAEA,CAAA,KAAIf,OAAO,CAAC,SAAS,CAAE;YAAAU,QAAA,EAAC;UAAO;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,EACzEjB,IAAI,CAACoB,IAAI,KAAK,OAAO,iBAAIzB,OAAA;YAAQiB,SAAS,EAAC,MAAM;YAACM,OAAO,EAAEA,CAAA,KAAIf,OAAO,CAAC,OAAO,CAAE;YAAAU,QAAA,EAAC;UAAK;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eAChGtB,OAAA;YAAQiB,SAAS,EAAC,MAAM;YAACM,OAAO,EAAER,YAAa;YAAAG,QAAA,EAAC;UAAM;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA,eAC/D,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACA,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACA,CAAC,eAETtB,OAAA;MAAMiB,SAAS,EAAC,WAAW;MAAAC,QAAA,GACxB,CAACb,IAAI,IAAIE,IAAI,KAAK,OAAO,iBAAIP,OAAA,CAACL,KAAK;QAAC+B,OAAO,EAAGC,CAAC,IAAG;UAAErB,OAAO,CAACqB,CAAC,CAAC;UAAEnB,OAAO,CAAC,SAAS,CAAC;QAAE;MAAE;QAAAW,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,EACzF,CAACjB,IAAI,IAAIE,IAAI,KAAK,UAAU,iBAAIP,OAAA,CAACJ,QAAQ;QAACgC,UAAU,EAAGD,CAAC,IAAG;UAAErB,OAAO,CAACqB,CAAC,CAAC;UAAEnB,OAAO,CAAC,SAAS,CAAC;QAAE;MAAE;QAAAW,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,EAClGjB,IAAI,IAAIE,IAAI,KAAK,SAAS,iBAAIP,OAAA,CAACH,OAAO;QAACQ,IAAI,EAAEA,IAAK;QAACwB,YAAY,EAAEF,CAAC,IAAErB,OAAO,CAACqB,CAAC;MAAE;QAAAR,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,EAClFjB,IAAI,IAAIE,IAAI,KAAK,OAAO,IAAIF,IAAI,CAACoB,IAAI,KAAK,OAAO,iBAAIzB,OAAA,CAACF,UAAU;QAAAqB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAChE,CAAC,eAEPtB,OAAA;MAAQiB,SAAS,EAAC,QAAQ;MAAAC,QAAA,EAAC;IAA0E;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAC3G,CAAC;AAEV;AAAClB,EAAA,CAjDQD,GAAG;AAAA2B,EAAA,GAAH3B,GAAG;AAmDZ,eAAeA,GAAG;AAAC,IAAA2B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}